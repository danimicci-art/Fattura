
<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generatore Fatture Mediche - Dr. Daniele Miccichè</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <!-- Left Panel - Form -->
        <div class="form-panel">
            <div class="form-header">
                <h2>Generatore Fatture Mediche</h2>
                <p>Dr. Daniele Miccichè</p>
            </div>

            <form id="invoice-form" class="invoice-form">
                <!-- Patient Information Section -->
                <section class="form-section">
                    <h3>Informazioni Paziente</h3>
                    
                    <div class="form-group">
                        <label class="form-label" for="patient-title">Titolo</label>
                        <select id="patient-title" class="form-control" required>
                            <option value="">Seleziona...</option>
                            <option value="Signore">Signore</option>
                            <option value="Signora">Signora</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="patient-name">Cognome e Nome</label>
                        <input type="text" id="patient-name" class="form-control" placeholder="Inserisci cognome e nome" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="patient-address">Indirizzo</label>
                        <textarea id="patient-address" class="form-control" rows="3" placeholder="Inserisci indirizzo completo" required></textarea>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="patient-cf">Codice Fiscale</label>
                        <input type="text" id="patient-cf" class="form-control" placeholder="Inserisci codice fiscale" required>
                    </div>
                </section>

                <!-- Invoice Details Section -->
                <section class="form-section">
                    <h3>Dettagli Fattura</h3>
                    
                    <div class="form-group">
                        <label class="form-label">Numero Fattura</label>
                        <input type="text" id="invoice-number" class="form-control" readonly>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="invoice-date">Data di Emissione</label>
                        <input type="date" id="invoice-date" class="form-control" required>
                    </div>

                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="traced-payment" class="checkbox">
                            Pagamento tracciato
                        </label>
                    </div>
                </section>

                <!-- Services Section -->
                <section class="form-section">
                    <h3>Descrizione delle Prestazioni</h3>
                    
                    <div id="services-container">
                        <div class="service-entry" data-index="0">
                            <div class="service-header">
                                <h4>Prestazione 1</h4>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Tipologia Prestazione</label>
                                <input type="text" class="form-control service-type" placeholder="Descrizione della prestazione" required>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">Quantità</label>
                                    <input type="number" class="form-control service-quantity" min="1" step="1" value="1" required>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">Importo (EUR)</label>
                                    <input type="number" class="form-control service-amount" min="0" step="0.01" placeholder="0.00" required>
                                </div>
                            </div>
                        </div>
                    </div>

                    <button type="button" id="add-service" class="btn btn--secondary btn--sm">
                        + Aggiungi Prestazione
                    </button>

                    <div class="total-section">
                        <h4>Totale Imponibile: <span id="total-amount">0,00 EUR</span></h4>
                    </div>
                </section>

                <!-- Action Buttons -->
                <div class="form-actions">
                    <button type="submit" class="btn btn--primary">Genera Fattura</button>
                    <button type="button" id="print-invoice" class="btn btn--outline">Stampa Fattura</button>
                    <button type="button" id="reset-form" class="btn btn--secondary">Reset Form</button>
                </div>
            </form>
        </div>

        <!-- Right Panel - Invoice Preview -->
        <div class="preview-panel">
            <div class="invoice-preview" id="invoice-preview">
                <div class="invoice-header">
                    <h1>FATTURA PER PRESTAZIONE SANITARIA</h1>
                </div>

                <div class="doctor-info">
                    <p><strong>Dr. Daniele Miccichè</strong></p>
                    <p>Corso Umbria, 10144, Torino</p>
                    <p>P.IVA 13155780011</p>
                    <p>C.F. MCCDNL98E26L219W</p>
                </div>

                <div class="patient-info">
                    <p id="preview-patient-title"></p>
                    <p id="preview-patient-name"></p>
                    <p id="preview-patient-address"></p>
                    <p id="preview-patient-cf"></p>
                </div>

                <div class="invoice-details">
                    <p>Fattura N. <span id="preview-invoice-number">_____</span></p>
                    <p>Data di emissione <span id="preview-invoice-date">_____</span></p>
                </div>

                <div class="services-section">
                    <h3>DESCRIZIONE DELLA PRESTAZIONE</h3>
                    <div id="preview-services">
                        <p class="placeholder-text">I servizi appariranno qui...</p>
                    </div>
                </div>

                <div class="invoice-totals">
                    <p class="total-line">Totale imponibile: <span id="preview-total">0,00 EUR</span></p>
                    <br>
                    <p>Pagamento tracciato: <span id="preview-payment-traced">SI(☐) NO (☐)</span></p>
                </div>

                <div class="legal-text">
                    <p>IVA: esente ai sensi dell'art. 10 comma 18 DPR 633/1972</p>
                    <p>Marca da bollo € 2,00 applicata se importo > € 77,47</p>
                    <p>Regime fiscale: Operazione effettuata ai sensi dell'articolo 1, commi 54-89, Legge 190/2014 (regime forfettario) - esente IVA</p>
                </div>

                <div class="signature-section">
                    <p><strong>Dott. Daniele Miccichè</strong></p>
                    <p>Medico-chirurgo</p>
                    <p>O.M. Torino 27505</p>
                    <p>P.IVA 13155780011</p>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
